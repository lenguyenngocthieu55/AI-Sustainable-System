<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CÃ´ng dÃ¢n xanh - ÄÃ¡nh giÃ¡ thÃ´ng minh</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
body{
background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
font-family: 'Segoe UI', Arial, sans-serif;
min-height: 100vh;
padding: 20px;
}

.box{
max-width: 800px;
margin: 20px auto;
background: rgba(255, 255, 255, 0.95);
padding: 40px;
border-radius: 30px;
box-shadow: 0 20px 40px rgba(0,0,0,0.1);
backdrop-filter: blur(10px);
border: 2px solid rgba(255,255,255,0.5);
}

h3{
color: #2d6a4f;
font-weight: 700;
margin-bottom: 30px;
}

h3 i{
margin-right: 10px;
color: #40916c;
}

.question-card{
background: #f8f9fa;
padding: 20px;
border-radius: 20px;
margin-bottom: 20px;
border-left: 5px solid #2d6a4f;
transition: transform 0.2s;
}

.question-card:hover{
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

label{
font-weight: 600;
color: #1b4d3e;
margin-bottom: 10px;
font-size: 16px;
}

label i{
margin-right: 8px;
color: #40916c;
}

.form-select, .form-control{
border: 2px solid #d4edda;
border-radius: 15px;
padding: 12px;
font-size: 15px;
transition: all 0.3s;
}

.form-select:focus, .form-control:focus{
border-color: #2d6a4f;
box-shadow: 0 0 0 0.2rem rgba(45,106,79,0.25);
}

.btn-calculate{
background: linear-gradient(135deg, #2d6a4f, #40916c);
color: white;
border: none;
padding: 15px 30px;
border-radius: 50px;
font-size: 18px;
font-weight: 600;
transition: all 0.3s;
margin: 20px 0;
}

.btn-calculate:hover{
transform: translateY(-2px);
box-shadow: 0 10px 20px rgba(45,106,79,0.3);
}

.result{
padding: 30px;
border-radius: 25px;
margin-top: 30px;
transition: all 0.3s;
}

.result.excellent{
background: linear-gradient(135deg, #d4edda, #c3e6cb);
border: 3px solid #2d6a4f;
}

.result.good{
background: linear-gradient(135deg, #fff3cd, #ffe69c);
border: 3px solid #ffc107;
}

.result.needs-improvement{
background: linear-gradient(135deg, #f8d7da, #f5c2c7);
border: 3px solid #dc3545;
}

.score-number{
font-size: 48px;
font-weight: 700;
color: #2d6a4f;
}

.level-badge{
display: inline-block;
padding: 8px 20px;
border-radius: 50px;
font-size: 18px;
font-weight: 600;
margin-bottom: 20px;
}

.level-excellent{
background: #2d6a4f;
color: white;
}

.level-good{
background: #ffc107;
color: #856404;
}

.level-needs{
background: #dc3545;
color: white;
}

.detail-item{
background: rgba(255,255,255,0.8);
padding: 15px;
border-radius: 15px;
margin: 10px 0;
border-left: 4px solid #2d6a4f;
}

.progress{
height: 10px;
border-radius: 10px;
margin: 10px 0;
}

.progress-bar{
background: #2d6a4f;
border-radius: 10px;
}

.stat-card{
background: white;
padding: 20px;
border-radius: 20px;
text-align: center;
box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.stat-number{
font-size: 30px;
font-weight: 700;
color: #2d6a4f;
}

.stat-label{
color: #6c757d;
font-size: 14px;
}

.tips-section{
background: #e8f5e9;
padding: 20px;
border-radius: 20px;
margin-top: 20px;
}

.tip-item{
padding: 10px;
border-bottom: 1px solid #a5d6a7;
}

.tip-item:last-child{
border-bottom: none;
}

.tip-item i{
color: #2d6a4f;
margin-right: 10px;
}

.share-btn{
background: #4267B2;
color: white;
border: none;
padding: 10px 20px;
border-radius: 50px;
margin: 5px;
transition: all 0.3s;
}

.share-btn:hover{
transform: translateY(-2px);
opacity: 0.9;
}

@media (max-width: 768px) {
.box{
padding: 20px;
margin: 10px;
}
}
</style>
</head>

<body>

<div class="box">

<h3 class="text-center">
<i class="fas fa-leaf"></i> 
ÄÃ¡nh GiÃ¡ CÃ´ng DÃ¢n Xanh ThÃ´ng Minh
<i class="fas fa-robot" style="color: #40916c;"></i>
</h3>

<p class="text-center text-muted mb-4">
<i class="fas fa-chart-line"></i> 
Tráº£ lá»i 10 cÃ¢u há»i Ä‘á»ƒ nháº­n Ä‘Ã¡nh giÃ¡ chi tiáº¿t vá» lá»‘i sá»‘ng xanh cá»§a báº¡n
</p>

<!-- Progress Bar -->
<div class="progress mb-4" style="height: 30px;">
<div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated" 
     role="progressbar" style="width: 0%">0%</div>
</div>

<div id="questionsContainer">
<!-- CÃ¢u há»i 1 -->
<div class="question-card">
<label><i class="fas fa-lightbulb"></i> 1. Báº¡n táº¯t Ä‘iá»‡n khi ra khá»i phÃ²ng?</label>
<select class="form-select" id="q1">
<option value="10">ğŸ”‹ LuÃ´n luÃ´n (10 Ä‘iá»ƒm)</option>
<option value="5">âš¡ Thá»‰nh thoáº£ng (5 Ä‘iá»ƒm)</option>
<option value="0">ğŸ’¡ Hiáº¿m khi (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 2 -->
<div class="question-card">
<label><i class="fas fa-shopping-bag"></i> 2. Báº¡n sá»­ dá»¥ng tÃºi tÃ¡i cháº¿ khi mua sáº¯m?</label>
<select class="form-select" id="q2">
<option value="10">ğŸ›ï¸ ThÆ°á»ng xuyÃªn (10 Ä‘iá»ƒm)</option>
<option value="5">ğŸ›’ ÄÃ´i khi (5 Ä‘iá»ƒm)</option>
<option value="0">ğŸš« KhÃ´ng bao giá» (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 3 -->
<div class="question-card">
<label><i class="fas fa-water"></i> 3. Báº¡n tiáº¿t kiá»‡m nÆ°á»›c trong sinh hoáº¡t?</label>
<select class="form-select" id="q3">
<option value="10">ğŸ’§ Ráº¥t tiáº¿t kiá»‡m (10 Ä‘iá»ƒm)</option>
<option value="5">ğŸš¿ BÃ¬nh thÆ°á»ng (5 Ä‘iá»ƒm)</option>
<option value="0">ğŸš° ChÆ°a quan tÃ¢m (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 4 -->
<div class="question-card">
<label><i class="fas fa-trash-alt"></i> 4. Báº¡n phÃ¢n loáº¡i rÃ¡c táº¡i nhÃ ?</label>
<select class="form-select" id="q4">
<option value="10">â™»ï¸ PhÃ¢n loáº¡i ká»¹ (10 Ä‘iá»ƒm)</option>
<option value="5">ğŸ—‘ï¸ PhÃ¢n loáº¡i cÆ¡ báº£n (5 Ä‘iá»ƒm)</option>
<option value="0">ğŸš® ChÆ°a phÃ¢n loáº¡i (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 5 -->
<div class="question-card">
<label><i class="fas fa-bicycle"></i> 5. PhÆ°Æ¡ng tiá»‡n di chuyá»ƒn chÃ­nh cá»§a báº¡n?</label>
<select class="form-select" id="q5">
<option value="10">ğŸš² Xe Ä‘áº¡p/Äi bá»™ (10 Ä‘iá»ƒm)</option>
<option value="8">ğŸšŒ Xe buÃ½t cÃ´ng cá»™ng (8 Ä‘iá»ƒm)</option>
<option value="5">ğŸ›µ Xe mÃ¡y (5 Ä‘iá»ƒm)</option>
<option value="0">ğŸš— Ã” tÃ´ cÃ¡ nhÃ¢n (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 6 -->
<div class="question-card">
<label><i class="fas fa-utensils"></i> 6. Báº¡n cÃ³ thÃ³i quen Äƒn uá»‘ng bá»n vá»¯ng?</label>
<select class="form-select" id="q6">
<option value="10">ğŸ¥— Ä‚n chay thÆ°á»ng xuyÃªn (10 Ä‘iá»ƒm)</option>
<option value="7">ğŸ¥¦ Ä‚n nhiá»u rau cá»§ (7 Ä‘iá»ƒm)</option>
<option value="3">ğŸ– Ä‚n uá»‘ng bÃ¬nh thÆ°á»ng (3 Ä‘iá»ƒm)</option>
<option value="0">ğŸ¥© ThÆ°á»ng xuyÃªn Äƒn thá»‹t Ä‘á» (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 7 -->
<div class="question-card">
<label><i class="fas fa-solar-panel"></i> 7. Sá»­ dá»¥ng nÄƒng lÆ°á»£ng tÃ¡i táº¡o?</label>
<select class="form-select" id="q7">
<option value="10">â˜€ï¸ CÃ³ láº¯p Ä‘iá»‡n máº·t trá»i (10 Ä‘iá»ƒm)</option>
<option value="5">ğŸ’¡ DÃ¹ng Ä‘Ã¨n nÄƒng lÆ°á»£ng máº·t trá»i (5 Ä‘iá»ƒm)</option>
<option value="0">âš¡ ChÆ°a sá»­ dá»¥ng (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 8 -->
<div class="question-card">
<label><i class="fas fa-tree"></i> 8. Báº¡n cÃ³ trá»“ng cÃ¢y xanh?</label>
<select class="form-select" id="q8">
<option value="10">ğŸŒ³ Trá»“ng nhiá»u cÃ¢y (10 Ä‘iá»ƒm)</option>
<option value="5">ğŸŒ¿ VÃ i cháº­u cÃ¢y nhá» (5 Ä‘iá»ƒm)</option>
<option value="0">ğŸ  KhÃ´ng trá»“ng cÃ¢y (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 9 -->
<div class="question-card">
<label><i class="fas fa-recycle"></i> 9. ThÃ³i quen tÃ¡i sá»­ dá»¥ng Ä‘á»“ cÅ©?</label>
<select class="form-select" id="q9">
<option value="10">ğŸ”„ TÃ¡i cháº¿ sÃ¡ng táº¡o thÆ°á»ng xuyÃªn (10 Ä‘iá»ƒm)</option>
<option value="5">âœ‚ï¸ Thá»‰nh thoáº£ng tÃ¡i sá»­ dá»¥ng (5 Ä‘iá»ƒm)</option>
<option value="0">ğŸ—‘ï¸ ThÆ°á»ng mua má»›i (0 Ä‘iá»ƒm)</option>
</select>
</div>

<!-- CÃ¢u há»i 10 -->
<div class="question-card">
<label><i class="fas fa-graduation-cap"></i> 10. TÃ¬m hiá»ƒu vá» mÃ´i trÆ°á»ng?</label>
<select class="form-select" id="q10">
<option value="10">ğŸ“š ThÆ°á»ng xuyÃªn cáº­p nháº­t kiáº¿n thá»©c (10 Ä‘iá»ƒm)</option>
<option value="5">ğŸ“° Thá»‰nh thoáº£ng Ä‘á»c tin (5 Ä‘iá»ƒm)</option>
<option value="0">ğŸ“± Ãt quan tÃ¢m (0 Ä‘iá»ƒm)</option>
</select>
</div>
</div>

<button class="btn btn-calculate w-100" onclick="calculate()">
<i class="fas fa-robot"></i> AI PhÃ¢n TÃ­ch & ÄÃ¡nh GiÃ¡
</button>

<!-- Káº¿t quáº£ Ä‘Ã¡nh giÃ¡ -->
<div id="result" class="result" style="display: none;"></div>

<!-- Thá»‘ng kÃª bá»• sung -->
<div class="row mt-4" id="stats" style="display: none;">
<div class="col-md-4">
<div class="stat-card">
<i class="fas fa-star text-warning fs-1"></i>
<div class="stat-number" id="totalScore">0</div>
<div class="stat-label">Tá»•ng Ä‘iá»ƒm</div>
</div>
</div>
<div class="col-md-4">
<div class="stat-card">
<i class="fas fa-tachometer-alt text-info fs-1"></i>
<div class="stat-number" id="percentScore">0%</div>
<div class="stat-label">Pháº§n trÄƒm</div>
</div>
</div>
<div class="col-md-4">
<div class="stat-card">
<i class="fas fa-medal text-primary fs-1"></i>
<div class="stat-number" id="ranking">0</div>
<div class="stat-label">Xáº¿p háº¡ng</div>
</div>
</div>
</div>

<!-- Gá»£i Ã½ cáº£i thiá»‡n -->
<div class="tips-section mt-4" id="tips" style="display: none;">
<h5><i class="fas fa-lightbulb"></i> Gá»£i Ã½ cáº£i thiá»‡n:</h5>
<div id="improvementTips"></div>
</div>

<!-- NÃºt chia sáº» -->
<div class="text-center mt-4" id="shareButtons" style="display: none;">
<button class="share-btn" onclick="shareFacebook()">
<i class="fab fa-facebook"></i> Chia sáº»
</button>
<button class="share-btn" style="background: #25D366;" onclick="shareZalo()">
<i class="fas fa-comment"></i> Zalo
</button>
<button class="share-btn" style="background: #1DA1F2;" onclick="shareTwitter()">
<i class="fab fa-twitter"></i> Twitter
</button>
</div>

</div>

<script>
// CÆ¡ sá»Ÿ dá»¯ liá»‡u gá»£i Ã½ cáº£i thiá»‡n
const improvementDatabase = {
    energy: [
        "ğŸ’¡ Táº¯t Ä‘Ã¨n khi khÃ´ng sá»­ dá»¥ng - tiáº¿t kiá»‡m 10% Ä‘iá»‡n nÄƒng",
        "âš¡ Thay bÃ³ng Ä‘Ã¨n LED tiáº¿t kiá»‡m 80% Ä‘iá»‡n nÄƒng",
        "â„ï¸ Äáº·t Ä‘iá»u hÃ²a 26Â°C thay vÃ¬ 22Â°C tiáº¿t kiá»‡m 18% Ä‘iá»‡n",
        "ğŸ”Œ RÃºt phÃ­ch cáº¯m khi khÃ´ng dÃ¹ng - trÃ¡nh hao phÃ­ Ä‘iá»‡n"
    ],
    plastic: [
        "ğŸ›ï¸ Mang tÃºi váº£i khi Ä‘i chá»£ - giáº£m 1000 tÃºi nilon/nÄƒm",
        "ğŸš° DÃ¹ng bÃ¬nh nÆ°á»›c cÃ¡ nhÃ¢n thay chai nhá»±a",
        "ğŸ¥¤ Tá»« chá»‘i á»‘ng hÃºt nhá»±a - má»—i nÄƒm 1 ngÆ°á»i dÃ¹ng 300 á»‘ng hÃºt",
        "ğŸ§´ Chá»n sáº£n pháº©m bao bÃ¬ giáº¥y/thá»§y tinh"
    ],
    water: [
        "ğŸš¿ Táº¯m nhanh 5 phÃºt thay 15 phÃºt - tiáº¿t kiá»‡m 150L nÆ°á»›c/ngÃ y",
        "ğŸ’§ KhÃ³a vÃ²i khi Ä‘Ã¡nh rÄƒng - tiáº¿t kiá»‡m 40L/ngÃ y",
        "ğŸŒ§ï¸ Há»©ng nÆ°á»›c mÆ°a tÆ°á»›i cÃ¢y",
        "ğŸ”§ Sá»­a vÃ²i nÆ°á»›c rá»‰ ngay - má»—i giá»t/phÃºt = 2000L/nÄƒm"
    ],
    waste: [
        "ğŸ—‘ï¸ PhÃ¢n loáº¡i rÃ¡c táº¡i nguá»“n - 3 thÃ¹ng riÃªng biá»‡t",
        "ğŸŒ± á»¦ rÃ¡c há»¯u cÆ¡ lÃ m phÃ¢n bÃ³n",
        "â™»ï¸ TÃ¡i cháº¿ chai nhá»±a lÃ m cháº­u cÃ¢y",
        "ğŸ“¦ TÃ¡i sá»­ dá»¥ng há»™p giáº¥y, bÃ¬a carton"
    ],
    transport: [
        "ğŸš² Äi xe Ä‘áº¡p cho quÃ£ng Ä‘Æ°á»ng dÆ°á»›i 5km",
        "ğŸšŒ Sá»­ dá»¥ng xe buÃ½t thay xe mÃ¡y",
        "ğŸš¶ Äi bá»™ khi cÃ³ thá»ƒ - tá»‘t cho sá»©c khá»e vÃ  mÃ´i trÆ°á»ng",
        "ğŸ›µ Báº£o dÆ°á»¡ng xe Ä‘á»‹nh ká»³ Ä‘á»ƒ giáº£m khÃ­ tháº£i"
    ],
    food: [
        "ğŸ¥— Ãp dá»¥ng 'Meatless Monday' - Äƒn chay 1 ngÃ y/tuáº§n",
        "ğŸ¥‘ Chá»n thá»±c pháº©m há»¯u cÆ¡, Ä‘á»‹a phÆ°Æ¡ng",
        "ğŸš Ä‚n gáº¡o lá»©t thay gáº¡o tráº¯ng",
        "ğŸŒ½ Háº¡n cháº¿ Ä‘á»“ Äƒn nhanh, Ä‘Ã³ng gÃ³i sáºµn"
    ],
    general: [
        "ğŸŒ³ Trá»“ng thÃªm cÃ¢y xanh trong nhÃ ",
        "ğŸ“š Äá»c sÃ¡ch vá» mÃ´i trÆ°á»ng má»—i thÃ¡ng",
        "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Dáº¡y con sá»‘ng xanh tá»« nhá»",
        "ğŸ¤ Tham gia cÃ¡c hoáº¡t Ä‘á»™ng báº£o vá»‡ mÃ´i trÆ°á»ng"
    ]
};

// Danh sÃ¡ch xáº¿p háº¡ng
const rankings = [
    { min: 90, title: "ğŸŒ LÃ£nh Ä‘áº¡o Xanh", desc: "Báº¡n lÃ  táº¥m gÆ°Æ¡ng sÃ¡ng vá» báº£o vá»‡ mÃ´i trÆ°á»ng!" },
    { min: 70, title: "ğŸŒŸ CÃ´ng dÃ¢n Xanh xuáº¥t sáº¯c", desc: "Lá»‘i sá»‘ng cá»§a báº¡n Ä‘ang gÃ³p pháº§n tÃ­ch cá»±c báº£o vá»‡ hÃ nh tinh." },
    { min: 50, title: "ğŸŒ± CÃ´ng dÃ¢n thÃ¢n thiá»‡n", desc: "Báº¡n Ä‘ang Ä‘i Ä‘Ãºng hÆ°á»›ng, hÃ£y cá»‘ gáº¯ng thÃªm!" },
    { min: 30, title: "ğŸŒ¿ NgÆ°á»i má»›i báº¯t Ä‘áº§u", desc: "HÃ£y báº¯t Ä‘áº§u hÃ nh trÃ¬nh xanh ngay hÃ´m nay!" },
    { min: 0, title: "âš ï¸ Cáº§n thay Ä‘á»•i", desc: "MÃ´i trÆ°á»ng Ä‘ang cáº§n báº¡n hÃ nh Ä‘á»™ng ngay!" }
];

function updateProgress() {
    let answered = 0;
    for (let i = 1; i <= 10; i++) {
        let select = document.getElementById(`q${i}`);
        if (select && select.value) answered++;
    }
    let percent = (answered / 10) * 100;
    let progressBar = document.getElementById('progressBar');
    progressBar.style.width = percent + '%';
    progressBar.textContent = Math.round(percent) + '%';
}

// Cáº­p nháº­t progress khi thay Ä‘á»•i
for (let i = 1; i <= 10; i++) {
    document.getElementById(`q${i}`).addEventListener('change', updateProgress);
}

function calculate() {
    let total = 0;
    let details = [];
    let weakAreas = [];

    // TÃ­nh Ä‘iá»ƒm vÃ  phÃ¢n tÃ­ch tá»«ng cÃ¢u
    for (let i = 1; i <= 10; i++) {
        let select = document.getElementById(`q${i}`);
        let value = Number(select.value);
        total += value;
        
        // Ghi nháº­n Ä‘iá»ƒm yáº¿u
        if (value < 5) {
            switch(i) {
                case 1: weakAreas.push('energy'); break;
                case 2: weakAreas.push('plastic'); break;
                case 3: weakAreas.push('water'); break;
                case 4: weakAreas.push('waste'); break;
                case 5: weakAreas.push('transport'); break;
                case 6: weakAreas.push('food'); break;
                default: weakAreas.push('general');
            }
        }
    }

    let maxScore = 100; // 10 cÃ¢u * 10 Ä‘iá»ƒm
    let percent = Math.round((total / maxScore) * 100);
    
    // TÃ¬m xáº¿p háº¡ng
    let userRank = rankings.find(r => percent >= r.min) || rankings[rankings.length - 1];
    
    // Hiá»ƒn thá»‹ káº¿t quáº£
    let resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';
    
    // XÃ³a class cÅ©
    resultDiv.classList.remove('excellent', 'good', 'needs-improvement');
    
    // ThÃªm class dá»±a trÃªn Ä‘iá»ƒm
    if (percent >= 70) {
        resultDiv.classList.add('excellent');
    } else if (percent >= 50) {
        resultDiv.classList.add('good');
    } else {
        resultDiv.classList.add('needs-improvement');
    }
    
    // Táº¡o ná»™i dung káº¿t quáº£
    let advice = '';
    
    if (percent >= 90) {
        advice = `
            <div class="level-badge level-excellent">${userRank.title}</div>
            <div class="score-number">${total}/100</div>
            <p class="mt-3">${userRank.desc}</p>
            <p><i class="fas fa-trophy"></i> Báº¡n thuá»™c top 5% ngÆ°á»i sá»‘ng xanh nháº¥t!</p>
        `;
    } else if (percent >= 70) {
        advice = `
            <div class="level-badge level-excellent">${userRank.title}</div>
            <div class="score-number">${total}/100</div>
            <p class="mt-3">${userRank.desc}</p>
        `;
    } else if (percent >= 50) {
        advice = `
            <div class="level-badge level-good">${userRank.title}</div>
            <div class="score-number">${total}/100</div>
            <p class="mt-3">${userRank.desc}</p>
        `;
    } else {
        advice = `
            <div class="level-badge level-needs">${userRank.title}</div>
            <div class="score-number">${total}/100</div>
            <p class="mt-3">${userRank.desc}</p>
        `;
    }
    
    // ThÃªm thanh progress chi tiáº¿t
    advice += `
        <div class="mt-4">
            <p><strong>Tiáº¿n Ä‘á»™ sá»‘ng xanh cá»§a báº¡n:</strong></p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: ${percent}%">${percent}%</div>
            </div>
        </div>
    `;
    
    resultDiv.innerHTML = advice;
    
    // Hiá»ƒn thá»‹ thá»‘ng kÃª
    document.getElementById('stats').style.display = 'flex';
    document.getElementById('totalScore').textContent = total;
    document.getElementById('percentScore').textContent = percent + '%';
    document.getElementById('ranking').textContent = userRank.title.split(' ')[0];
    
    // Hiá»ƒn thá»‹ gá»£i Ã½ cáº£i thiá»‡n
    document.getElementById('tips').style.display = 'block';
    let tipsHtml = '<div class="row">';
    
    // Loáº¡i bá» trÃ¹ng láº·p
    let uniqueAreas = [...new Set(weakAreas)];
    
    if (uniqueAreas.length > 0) {
        uniqueAreas.forEach(area => {
            if (improvementDatabase[area]) {
                let randomTip = improvementDatabase[area][Math.floor(Math.random() * improvementDatabase[area].length)];
                tipsHtml += `
                    <div class="col-md-6">
                        <div class="tip-item">
                            <i class="fas fa-arrow-right"></i> ${randomTip}
                        </div>
                    </div>
                `;
            }
        });
    } else {
        // Náº¿u khÃ´ng cÃ³ Ä‘iá»ƒm yáº¿u, hiá»ƒn thá»‹ tips nÃ¢ng cao
        let advancedTips = [
            "ğŸŒ Láº¯p Ä‘iá»‡n máº·t trá»i Ä‘á»ƒ tiáº¿t kiá»‡m 90% hÃ³a Ä‘Æ¡n",
            "ğŸš— Chuyá»ƒn sang xe Ä‘iá»‡n giáº£m 70% khÃ­ tháº£i",
            "ğŸ¡ Cáº£i táº¡o nhÃ  thÃ nh khÃ´ng gian xanh",
            "ğŸŒ³ Tham gia trá»“ng rá»«ng, báº£o vá»‡ mÃ´i trÆ°á»ng"
        ];
        advancedTips.forEach(tip => {
            tipsHtml += `
                <div class="col-md-6">
                    <div class="tip-item">
                        <i class="fas fa-star"></i> ${tip}
                    </div>
                </div>
            `;
        });
    }
    
    tipsHtml += '</div>';
    document.getElementById('improvementTips').innerHTML = tipsHtml;
    
    // Hiá»ƒn thá»‹ nÃºt chia sáº»
    document.getElementById('shareButtons').style.display = 'block';
    
    // Animation
    resultDiv.style.animation = 'fadeIn 0.5s';
}

// HÃ m chia sáº»
function shareFacebook() {
    let score = document.getElementById('totalScore').textContent;
    let percent = document.getElementById('percentScore').textContent;
    let text = encodeURIComponent(`TÃ´i Ä‘áº¡t ${score} Ä‘iá»ƒm (${percent}) trong bÃ i Ä‘Ã¡nh giÃ¡ CÃ´ng dÃ¢n Xanh! Báº¡n thá»­ xem mÃ¬nh Ä‘Æ°á»£c bao nhiÃªu Ä‘iá»ƒm? ğŸŒ±`);
    window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${text}`, '_blank');
}

function shareZalo() {
    let score = document.getElementById('totalScore').textContent;
    let text = encodeURIComponent(`TÃ´i Ä‘áº¡t ${score} Ä‘iá»ƒm trong bÃ i Ä‘Ã¡nh giÃ¡ CÃ´ng dÃ¢n Xanh!`);
    window.open(`https://zalo.me/share?text=${text}&url=${encodeURIComponent(window.location.href)}`, '_blank');
}

function shareTwitter() {
    let score = document.getElementById('totalScore').textContent;
    let text = encodeURIComponent(`TÃ´i Ä‘áº¡t ${score} Ä‘iá»ƒm trong bÃ i Ä‘Ã¡nh giÃ¡ CÃ´ng dÃ¢n Xanh! #Sá»‘ngXanh #Báº£oVá»‡MÃ´iTrÆ°á»ng`);
    window.open(`https://twitter.com/intent/tweet?text=${text}&url=${encodeURIComponent(window.location.href)}`, '_blank');
}

// Animation fadeIn
const style = document.createElement('style');
style.textContent = `
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
`;
document.head.appendChild(style);

// Cáº­p nháº­t progress ban Ä‘áº§u
updateProgress();
</script>

</body>
</html>
